<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;
var dataMap = {};
function dataFormatter(obj) {
    var pList = ['2006-07-01', '2006-07-02', '2006-07-03', '2006-07-04',
                '2006-07-05', '2006-07-06', '2006-07-07', '2006-07-08',
                '2006-07-09', '2006-07-10', '2006-07-11', '2006-07-12',
                '2006-07-13', '2006-07-14', '2006-07-15', '2006-07-16',
                '2006-07-17', '2006-07-18', '2006-07-19', '2006-07-20',
                '2006-07-21', '2006-07-22', '2006-07-23', '2006-07-24',
                '2006-07-25', '2006-07-26', '2006-07-27', '2006-07-28',
                '2006-07-29', '2006-07-30', '2006-07-31', '2006-08-01',
                '2006-08-02', '2006-08-03', '2006-08-04', '2006-08-05',
                '2006-08-06', '2006-08-07', '2006-08-08', '2006-08-09',
                '2006-08-10', '2006-08-11', '2006-08-12', '2006-08-13',
                '2006-08-14', '2006-08-15', '2006-08-16', '2006-08-17',
                '2006-08-18', '2006-08-19', '2006-08-20', '2006-08-21',
                '2006-08-22', '2006-08-23', '2006-08-24', '2006-08-25',
                '2006-08-26', '2006-08-27', '2006-08-28', '2006-08-29',
                '2006-08-30', '2006-08-31', '2006-09-01', '2006-09-02',
                '2006-09-03', '2006-09-04', '2006-09-05', '2006-09-06',
                '2006-09-07', '2006-09-08', '2006-09-09', '2006-09-10',
                '2006-09-11', '2006-09-12', '2006-09-13', '2006-09-14',
                '2006-09-15', '2006-09-16', '2006-09-17', '2006-09-18',
                '2006-09-19', '2006-09-20', '2006-09-21', '2006-09-22',
                '2006-09-23', '2006-09-24', '2006-09-25', '2006-09-26',
                '2006-09-27', '2006-09-28', '2006-09-29', '2006-09-30'];
    var temp;
    for (var ip = 0; ip <= 9; ip++) {
        var max = 0;
        var sum = 0;
        temp = obj[ip];
        for (var i = 0, l = temp.length; i < l; i++) {
            max = Math.max(max, temp[i]);
            sum += temp[i];
            obj[ip][i] = {
                name : pList[i],
                value : temp[i]
            }
        }
        obj[ip + 'max'] = Math.floor(max / 100) * 100;
        obj[ip + 'sum'] = sum;
    }
    return obj;
}

dataMap.flows = dataFormatter({
    //max : 60000,
    0: [106.0,
  920.0,
  249.0,
  2971.0,
  158.0,
  184.0,
  197.0,
  361.0,
  68.0,
  258.0,
  118.0,
  236.0,
  145.0,
  132.0,
  333.0,
  784.0,
  1462.0,
  4191.0,
  166.0,
  1501.0,
  1243.0,
  492.0,
  3797.0,
  863.0,
  158.0,
  252.0,
  278.0,
  1506.0,
  133.0,
  74.0,
  146.0,
  426.0,
  1163.0,
  177.0,
  458.0,
  796.0,
  226.0,
  167.0,
  1561.0,
  611.0,
  361.0,
  132.0,
  267.0,
  109.0,
  110.0,
  415.0,
  528.0,
  7488.0,
  424.0,
  295.0,
  865.0,
  4085.0,
  2677.0,
  833.0,
  143.0,
  4624.0,
  4218.0,
  182.0,
  1252.0,
  363.0,
  159.0,
  1853.0,
  1106.0,
  124.0,
  589.0,
  148.0,
  2039.0,
  162.0,
  153.0,
  148.0,
  136.0,
  101.0,
  234.0,
  1372.0,
  1599.0,
  125.0,
  377.0,
  5706.0,
  604.0,
  692.0,
  1277.0,
  4638.0,
  1505.0,
  129.0,
  1858.0,
  2131.0,
  1591.0,
  3679.0,
  152.0,
  3270.0,
  5818.0,
  3264.0],
 1: [640.0,
  2661.0,
  3063.0,
  1916.0,
  6760.0,
  1535.0,
  1702.0,
  2392.0,
  1537.0,
  1718.0,
  1620.0,
  1635.0,
  1595.0,
  1489.0,
  1845.0,
  1835.0,
  2824.0,
  2312.0,
  2366.0,
  2807.0,
  3079.0,
  1613.0,
  8813.0,
  1487.0,
  846.0,
  2076.0,
  1638.0,
  2518.0,
  1447.0,
  2108.0,
  2281.0,
  3097.0,
  2385.0,
  1701.0,
  2051.0,
  1601.0,
  3881.0,
  1720.0,
  6040.0,
  3365.0,
  3288.0,
  4746.0,
  5069.0,
  4795.0,
  4910.0,
  6275.0,
  6754.0,
  9190.0,
  4921.0,
  5393.0,
  8134.0,
  9596.0,
  8554.0,
  10574.0,
  5482.0,
  0.0,
  0.0,
  0.0,
  11.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0],
 2: [1677.0,
  2036.0,
  1296.0,
  1584.0,
  4725.0,
  1606.0,
  2077.0,
  1359.0,
  2170.0,
  1408.0,
  1329.0,
  1602.0,
  1263.0,
  1539.0,
  822.0,
  622.0,
  2705.0,
  2002.0,
  1938.0,
  2446.0,
  3144.0,
  1071.0,
  4524.0,
  1859.0,
  1430.0,
  2414.0,
  2053.0,
  1587.0,
  717.0,
  622.0,
  876.0,
  754.0,
  740.0,
  540.0,
  4309.0,
  424.0,
  1531.0,
  484.0,
  2108.0,
  664.0,
  816.0,
  705.0,
  659.0,
  609.0,
  734.0,
  995.0,
  1317.0,
  6062.0,
  984.0,
  1085.0,
  752.0,
  3912.0,
  3885.0,
  1327.0,
  1355.0,
  4463.0,
  1173.0,
  1088.0,
  1883.0,
  3885.0,
  2004.0,
  2591.0,
  2941.0,
  1153.0,
  1150.0,
  694.0,
  1222.0,
  1127.0,
  2748.0,
  1299.0,
  879.0,
  1574.0,
  1248.0,
  1469.0,
  4465.0,
  4312.0,
  1166.0,
  5122.0,
  1176.0,
  1228.0,
  2718.0,
  13421.0,
  5920.0,
  1486.0,
  3184.0,
  983.0,
  993.0,
  5574.0,
  1649.0,
  4506.0,
  4405.0,
  5560.0],
 3: [22.0,
  30.0,
  25.0,
  47.0,
  87.0,
  18.0,
  51.0,
  35.0,
  23.0,
  40.0,
  102.0,
  13.0,
  65.0,
  15.0,
  297.0,
  23.0,
  26.0,
  43.0,
  28.0,
  17.0,
  74.0,
  74.0,
  49.0,
  45.0,
  64.0,
  40.0,
  38.0,
  47.0,
  39.0,
  71.0,
  58.0,
  39.0,
  49.0,
  25.0,
  39.0,
  55.0,
  37.0,
  47.0,
  18.0,
  19.0,
  70.0,
  14.0,
  69.0,
  37.0,
  27.0,
  47.0,
  49.0,
  14.0,
  25.0,
  350.0,
  34.0,
  26.0,
  98.0,
  50.0,
  20.0,
  54.0,
  97.0,
  200.0,
  20.0,
  33.0,
  9.0,
  63.0,
  14.0,
  33.0,
  54.0,
  33.0,
  36.0,
  43.0,
  68.0,
  68.0,
  66.0,
  118.0,
  35.0,
  35.0,
  22.0,
  29.0,
  33.0,
  39.0,
  43.0,
  21.0,
  39.0,
  63.0,
  38.0,
  52.0,
  48.0,
  33.0,
  28.0,
  251.0,
  222.0,
  0.0,
  0.0,
  0.0],
 4: [184.0,
  941.0,
  245.0,
  187.0,
  5643.0,
  327.0,
  315.0,
  327.0,
  148.0,
  254.0,
  158.0,
  270.0,
  128.0,
  126.0,
  118.0,
  221.0,
  1966.0,
  5147.0,
  2512.0,
  620.0,
  1429.0,
  194.0,
  3846.0,
  1233.0,
  391.0,
  435.0,
  511.0,
  6265.0,
  138.0,
  582.0,
  335.0,
  1570.0,
  650.0,
  91.0,
  3369.0,
  141.0,
  1456.0,
  188.0,
  1408.0,
  383.0,
  773.0,
  1551.0,
  1301.0,
  249.0,
  469.0,
  4194.0,
  644.0,
  7593.0,
  456.0,
  516.0,
  411.0,
  5246.0,
  4005.0,
  429.0,
  144.0,
  3175.0,
  5310.0,
  837.0,
  1006.0,
  590.0,
  1432.0,
  840.0,
  1983.0,
  182.0,
  990.0,
  256.0,
  1141.0,
  729.0,
  805.0,
  334.0,
  896.0,
  266.0,
  395.0,
  2275.0,
  3530.0,
  445.0,
  229.0,
  4539.0,
  275140.0,
  785297.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  387.0,
  1486.0,
  537.0,
  1668.0,
  3115.0,
  3169.0],
 5: [44.0,
  60.0,
  71.0,
  64.0,
  129.0,
  34.0,
  57.0,
  51.0,
  43.0,
  56.0,
  157.0,
  27.0,
  41.0,
  30.0,
  346.0,
  28.0,
  33.0,
  31.0,
  23.0,
  25.0,
  94.0,
  161.0,
  862.0,
  69.0,
  88.0,
  57.0,
  56.0,
  65.0,
  56.0,
  71.0,
  80.0,
  57.0,
  60.0,
  52.0,
  55.0,
  86.0,
  55.0,
  71.0,
  47.0,
  42.0,
  83.0,
  39.0,
  99.0,
  60.0,
  197.0,
  56.0,
  67.0,
  38.0,
  55.0,
  366.0,
  46.0,
  45.0,
  106.0,
  80.0,
  36.0,
  43.0,
  127.0,
  251.0,
  70.0,
  56.0,
  32.0,
  87.0,
  40.0,
  44.0,
  57.0,
  61.0,
  5.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0,
  0.0],
 6: [63.0,
  27.0,
  35.0,
  69.0,
  113.0,
  23.0,
  37.0,
  40.0,
  33.0,
  41.0,
  134.0,
  23.0,
  54.0,
  27.0,
  367.0,
  31.0,
  34.0,
  44.0,
  25.0,
  20.0,
  117.0,
  60.0,
  59.0,
  47.0,
  77.0,
  95.0,
  42.0,
  50.0,
  136.0,
  74.0,
  73.0,
  32.0,
  43.0,
  49.0,
  45.0,
  60.0,
  49.0,
  54.0,
  24.0,
  30.0,
  65.0,
  16.0,
  70.0,
  30.0,
  40.0,
  41.0,
  54.0,
  17.0,
  39.0,
  563.0,
  39.0,
  24.0,
  120.0,
  58.0,
  102.0,
  36.0,
  147.0,
  291.0,
  228.0,
  92.0,
  18.0,
  115.0,
  31.0,
  34.0,
  60.0,
  53.0,
  47.0,
  70.0,
  85.0,
  85.0,
  35.0,
  160.0,
  47.0,
  43.0,
  46.0,
  43.0,
  50.0,
  36.0,
  69.0,
  30.0,
  38.0,
  68.0,
  51.0,
  69.0,
  44.0,
  42.0,
  548.0,
  121.0,
  8.0,
  0.0,
  0.0,
  0.0],
 7: [411.0,
  68.0,
  474.0,
  200.0,
  208.0,
  489.0,
  255.0,
  729.0,
  346.0,
  164.0,
  219.0,
  163.0,
  424.0,
  865.0,
  1116.0,
  1005.0,
  722.0,
  449.0,
  309.0,
  544.0,
  64.0,
  55.0,
  66.0,
  65.0,
  192.0,
  918.0,
  794.0,
  629.0,
  75.0,
  118.0,
  236.0,
  339.0,
  1022.0,
  613.0,
  325.0,
  65.0,
  66.0,
  126.0,
  141.0,
  113.0,
  209.0,
  123.0,
  77.0,
  236.0,
  436.0,
  158.0,
  408.0,
  138.0,
  354.0,
  341.0,
  290.0,
  230.0,
  550.0,
  536.0,
  129.0,
  379.0,
  285.0,
  309.0,
  475.0,
  348.0,
  627.0,
  595.0,
  569.0,
  341.0,
  226.0,
  292.0,
  463.0,
  290.0,
  481.0,
  233.0,
  96.0,
  466.0,
  433.0,
  388.0,
  780.0,
  520.0,
  1293.0,
  519.0,
  76.0,
  415.0,
  380.0,
  447.0,
  812.0,
  119.0,
  365.0,
  208.0,
  259.0,
  991.0,
  597.0,
  270.0,
  512.0,106.0],
 8: [448.0,689.0,951.0,1236.0,7456.0,495.0,
    1144.0,2188.0,7.0,212.0,25.0,1342.0,33.0,55.0,5586.0,203.0,3438.0,
    25.0,9.0,181.0,181.0,202.0,4748.0,2621.0,459.0,689.0,641.0,196.0,
    250.0,580.0,2628.0,2500.0,126.0,305.0,122.0,274.0,122.0,526.0,768.0,
    2892.0,301.0,2466.0,354.0,18.0,1216.0,19.0,14.0,223.0,8.0,520.0,
    516.0,2046.0,2447.0,414.0,1925.0,470.0,3052.0,1250.0,1103.0,1929.0,
    491.0,1137.0,1173.0,2749.0,7.0,1705.0,383.0,722.0,1244.0,4724.0,
    737.0,17.0,1132.0,597.0,565.0,550.0,271.0,1156.0,365.0,610.0,1803.0,9573.0,
    390.0,1037.0,2151.0,713.0,685.0,531.0,881.0,452.0,11426.0,3382.0],
 9: [1463.0,5.0,839.0,6.0,1910.0,1680.0,3136.0,1758.0,5.0,2169.0,1158.0,
    118.0,5.0,5.0,9.0,6.0,4.0,1000.0,4378.0,338.0,3598.0,6.0,5.0,2637.0,
    2792.0,2912.0,1734.0,1651.0,1494.0,9.0,2954.0,1349.0,3782.0,1352.0,
    1622.0,939.0,4.0,1219.0,572.0,2223.0,4017.0,3796.0,2813.0,9.0,268.0,
    2700.0,2324.0,281.0,4.0,4.0,4.0,8.0,804.0,3089.0,2293.0,2532.0,58.0,
    4.0,3756.0,2863.0,1956.0,5.0,4.0,4.0,7.0,5.0,5.0,4.0,4.0,7.0,5.0,4.0,
    3100.0,2454.0,1512.0,2912.0,6.0,4.0,4.0,4.0,1884.0,3095.0,594.0,2310.0,
    1264.0,8.0,724.0,1330.0,97.0,983.0,5.0,4.0]    
});

option = {
    baseOption: {
        timeline: {
            // y: 0,
            axisType: 'category',
            // realtime: false,
            // loop: false,
            autoPlay: true,
            // currentIndex: 2,
            playInterval: 1500,
            // controlStyle: {
            //     position: 'left'
            // },
            data: [
                '0',
                {
                    value: '1',
                    tooltip: {
                        formatter: 'IP {b} compromised at 08-24'
                    },
                    symbol: 'diamond',
                    symbolSize: 16
                },
                '2',
                {
                    value: '3',
                    tooltip: {
                        formatter: 'IP {b} compromised at 09-26'
                    },
                    symbol: 'diamond',
                    symbolSize: 16
                },
                {
                    value: '4',
                    tooltip: {
                        formatter: 'IP {b} compromised at 09-14'
                    },
                    symbol: 'diamond',
                    symbolSize: 16
                },
                {
                    value: '5',
                    tooltip: {
                        formatter: 'IP {b} compromised at 09-04'
                    },
                    symbol: 'diamond',
                    symbolSize: 16
                },
                {
                    value: '6',
                    tooltip: {
                        formatter: 'IP {b} compromised at 09-26'
                    },
                    symbol: 'diamond',
                    symbolSize: 16
                },
                '7','8','9',
            ],
            label: {
                formatter : 'IP {value}'
            }
        },
        title: {
            subtext: 'data from Dr. Chiara Sabatti at Stanford University'
        },
        tooltip: {
        },
        calculable : true,
        grid: {
            top: 80,
            bottom: 100,
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow',
                    label: {
                        show: true,
                        formatter: function (params) {
                            return params.value.replace('\n', '');
                        }
                    }
                }
            }
        },
        xAxis: [
            {
                type:'category',
                boundaryGap : false,
                axisLine: {onZero: false},
                data:[
                '2006-07-01', '2006-07-02', '2006-07-03', '2006-07-04',
                '2006-07-05', '2006-07-06', '2006-07-07', '2006-07-08',
                '2006-07-09', '2006-07-10', '2006-07-11', '2006-07-12',
                '2006-07-13', '2006-07-14', '2006-07-15', '2006-07-16',
                '2006-07-17', '2006-07-18', '2006-07-19', '2006-07-20',
                '2006-07-21', '2006-07-22', '2006-07-23', '2006-07-24',
                '2006-07-25', '2006-07-26', '2006-07-27', '2006-07-28',
                '2006-07-29', '2006-07-30', '2006-07-31', '2006-08-01',
                '2006-08-02', '2006-08-03', '2006-08-04', '2006-08-05',
                '2006-08-06', '2006-08-07', '2006-08-08', '2006-08-09',
                '2006-08-10', '2006-08-11', '2006-08-12', '2006-08-13',
                '2006-08-14', '2006-08-15', '2006-08-16', '2006-08-17',
                '2006-08-18', '2006-08-19', '2006-08-20', '2006-08-21',
                '2006-08-22', '2006-08-23', '2006-08-24', '2006-08-25',
                '2006-08-26', '2006-08-27', '2006-08-28', '2006-08-29',
                '2006-08-30', '2006-08-31', '2006-09-01', '2006-09-02',
                '2006-09-03', '2006-09-04', '2006-09-05', '2006-09-06',
                '2006-09-07', '2006-09-08', '2006-09-09', '2006-09-10',
                '2006-09-11', '2006-09-12', '2006-09-13', '2006-09-14',
                '2006-09-15', '2006-09-16', '2006-09-17', '2006-09-18',
                '2006-09-19', '2006-09-20', '2006-09-21', '2006-09-22',
                '2006-09-23', '2006-09-24', '2006-09-25', '2006-09-26',
                '2006-09-27', '2006-09-28', '2006-09-29', '2006-09-30'
                ],
                splitLine: {show: false}
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: 'Flows'
            }
        ],
        series: [
            {
                name: 'Flows',
                type: 'bar',
                itemStyle: {color: '#61a0a8'},
                markPoint: {
                    data: [
                        {type: 'min', name: 'compromise', itemStyle: {color:'#c23531'}}
                    ]
                },
                markLine: {
                data: [
                    {type: 'average', name: 'average', itemStyle: {color:'#c23531'}}
                    ]
                }
            }
        ]
    },
    options: [
        {
            title: {text: 'IP 0 compromise detect'},
            series: [
                {data: dataMap.flows['0']}
            ]
        },
        {
            title : {text: 'IP 1 compromise detect'},
            series : [
                {data: dataMap.flows['1']}
            ]
        },
        {
            title : {text: 'IP 2 compromise detect'},
            series : [
                {data: dataMap.flows['2']}
            ]
        },
        {
            title : {text: 'IP 3 compromise detect'},
            series : [
                {data: dataMap.flows['3']},
            ]
        },
        {
            title : {text: 'IP 4 compromise detect'},
            series : [
                {data: dataMap.flows['4']},
            ]
        },
        {
            title : {text: 'IP 5 compromise detect'},
            series : [
                {data: dataMap.flows['5']},
            ]
        },
        {
            title : {text: 'IP 6 compromise detect'},
            series : [
                {data: dataMap.flows['6']},
            ]
        },
        {
            title : {text: 'IP 7 compromise detect'},
            series : [
                {data: dataMap.flows['7']},
            ]
        },
        {
            title : {text: 'IP 8 compromise detect'},
            series : [
                {data: dataMap.flows['8']},
            ]
        },
        {
            title : {text: 'IP 9 compromise detect'},
            series : [
                {data: dataMap.flows['9']},
            ]
        }
    ]
};;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>